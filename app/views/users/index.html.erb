<div class="ui vertical segment">
  <h2 class="ui header">
    <i class="circular inverted blue male icon"></i>
    <div class="content">
      <%=t 'sidebar.users' %>
    </div>
  </h2>
  <%= link_to new_user_path, class:"ui green labeled icon button" do %>
    <i class="plus icon"></i><%=t '.new' %>
  <% end %>
</div>

<p id="notice"><%= notice %></p>

<table class="ui table segment">
  <thead>
    <tr>
      <th class="three wide"><%=t '.table.name' %></th>
      <th class="three wide"><%=t '.table.username' %></th>
      <th class="four wide"><%=t '.table.email' %></th>
      <th class="two wide"><%=t '.table.state' %></th>
      <th class="two wide"><%=t '.table.admin' %></th>
      <th class="two wide"></th>
    </tr>
  </thead>

  <tbody>
    <% @users.each do |user| %>
      <tr>
        <td><%= link_to user.name, user %></td>
        <td><%= user.username %></td>
        <td><%= user.email %></td>
        <td><%= t('.table.state_names')[user.state] %></td>
        <td><%= user.admin ? content_tag('i',nil,class:'checkmark icon') :
                  content_tag('i',nil,class:'remove icon')%></td>
        <td>
          <%= link_to content_tag('i',nil,class:'edit icon'), edit_user_path(user) %>
          <%= link_to content_tag('i',nil,class:'red trash icon'), user, method: :delete,
                data: { confirm: t('.table.delete_confirm') } %>
        </td>
      </tr>
    <% end %>
  </tbody>
</table>
