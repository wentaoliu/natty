//= require jquery
//= require jquery_ujs
//= require semantic-ui
//= require turbolinks
//= require simditor
//= require_tree .

$(document).on("ready page:load", function() {
  // Initialize semantic-ui sidebar module
  $('.sidebar-toggle').click(function(){
    $('.sidebar').sidebar('toggle');
  })

  // Initialize semantic-ui dropdown module
  $('.dropdown').dropdown();

  // replace rails default error tags with semantic-ui error classes
  var error_fields = $('.field_with_errors');
  error_fields.parent('.field').addClass("error");
  error_fields.children().unwrap();

  // Initialize Simditor
  var editor = new Simditor({
    textarea: $('.editor'),
    toolbar: ['title', 'bold', 'italic', 'underline', 'strikethrough', 'color',
              '|', 'ol', 'ul', 'blockquote', 'code', 'table', 'link', 'image', 'hr',
              '|', 'indent', 'outdent',
              '|', 'source'],
    pasteImage: true,
    defaultImage: '<%= image_path('upload-loading.png') %>',
    upload: {
      url: '/upload'
    }
  });

});
